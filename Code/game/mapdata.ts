import { Maps, townMap, location, GenerateMap, compressMapData } from "./map";

const worldMap = {
	Orlania: new townMap("Orlania", "", ["奥兰尼亚"], ["GateNorth", "GateSouth", "GateWest", "GateEast"], 35, 35),
	MagicaAcademy: new townMap("MagicaAcademy", "Orlania", ["第一魔法学院"], ["SchoolGate"], 5, 25),
};

const locationdata = {
	common: {},
	Orlania: {},
	MagicaAcademy: {},
};

// x,y坐标，可通过的方向
//     北 x-
// y-西 东 y+
//  南 x+
//  例如：["GateSouth", 16, 0, "NWE"] 表示南门的坐标为(16,0)，可通过的方向为北、西、东
worldMap.Orlania.Spots(
	//城郊
	["OutskirtsNorth", -17, 0, "S"],
	["OutskirtsSouth", 17, 0, "N"],
	["OutskirtsWest", 0, -17, "E"],
	["OutskirtsEast", 0, 17, "W"],

	//城镇出入口，东南西北门
	["GateNorth", -15, 0, "S"],
	["GateSouth", 15, 0, "N"],
	["GateWest", 0, -15, "E"],
	["GateEast", 0, 15, "W"],

	//中心区域，城镇中心，中心广场
	["TownCenter", 0, 0, "SNWE"],
	["CenterSquare", 2, 0, "SN"],

	//魔法学院，位于城镇东北方
	["MagicaAcademy", -11, 8, "SW"],
	["Hospital", -9, 3, "W"],

	//城南的商业街、大浴场、水族馆
	["ShopAlley", 11, -4, "E"],
	["BathHouse", 9, -4, "EN"],
	["Aquarium", 12, 13, "N"],

	//城北的美术馆、元灵教会、黑猫咖啡馆，距离魔法学院较近
	["ArtGallery", -8, 8, "WNS"],
	["Church", -12, 4, "E"],
	["BlackCat", -10, 8, "W"],
	["OperaHouse", -6, 11, "S"],

	//城西一带
	["BairdTrading", -4, -11, "SN"],
	["SliverChimes", -4, -8, "N"],
	["CentaurBar", -6, -8, "N"]
);

worldMap.MagicaAcademy.Spots(
	["SchoolEntrance", 0, -12, "WEN"],
	["MageTower", -2, -12, "S"],
	["ClassBuildingR1", 1, -8, "N"],
	["ClassBuildingR2", -1, -6, "S"],
	["ResearchLabA", 1, -4, "N"],
	["ResearchLabB", -1, -2, "S"],
	["Library", 1, 0, "N"],
	["Arena", -2, 1, "S"],
	["HistoryMuseum", 1, 3, "N"],
	["DiningHall", -1, 5, "S"],
	["GreenGarden", 1, 8, "N"],
	["StudentCenter", 2, 10, "N"],
	["Dormitory", 0, 12, "WE"]
);

Object.defineProperties(window, {
	worldMap: { get: () => worldMap },
});

worldMap.Orlania.mapdata = {
	OutskirtsNorth: [[17, 0]],
	road: [
		[17, 1],
		[17, 3],
		[17, 4],
		[17, 5],
		[17, 6],
		[18, 6],
		[19, 6],
		[20, 6],
		[21, 6],
		[22, 6],
		[23, 6],
		[24, 6],
		[17, 7],
		[21, 7],
		[24, 7],
		[17, 8],
		[21, 8],
		[24, 8],
		[17, 9],
		[20, 9],
		[21, 9],
		[22, 9],
		[23, 9],
		[24, 9],
		[10, 10],
		[11, 10],
		[12, 10],
		[13, 10],
		[14, 10],
		[15, 10],
		[16, 10],
		[17, 10],
		[18, 10],
		[19, 10],
		[20, 10],
		[25, 10],
		[10, 11],
		[17, 11],
		[25, 11],
		[5, 12],
		[6, 12],
		[7, 12],
		[10, 12],
		[17, 12],
		[18, 12],
		[19, 12],
		[20, 12],
		[21, 12],
		[22, 12],
		[23, 12],
		[24, 12],
		[25, 12],
		[26, 12],
		[27, 12],
		[28, 12],
		[5, 13],
		[7, 13],
		[10, 13],
		[13, 13],
		[14, 13],
		[15, 13],
		[16, 13],
		[17, 13],
		[5, 14],
		[6, 14],
		[7, 14],
		[8, 14],
		[9, 14],
		[10, 14],
		[11, 14],
		[12, 14],
		[13, 14],
		[17, 14],
		[17, 15],
		[17, 16],
		[1, 17],
		[3, 17],
		[4, 17],
		[5, 17],
		[6, 17],
		[7, 17],
		[8, 17],
		[9, 17],
		[10, 17],
		[11, 17],
		[12, 17],
		[13, 17],
		[14, 17],
		[15, 17],
		[16, 17],
		[18, 17],
		[19, 17],
		[20, 17],
		[21, 17],
		[22, 17],
		[23, 17],
		[24, 17],
		[25, 17],
		[26, 17],
		[27, 17],
		[28, 17],
		[29, 17],
		[30, 17],
		[31, 17],
		[33, 17],
		[13, 18],
		[17, 18],
		[30, 18],
		[13, 19],
		[30, 19],
		[13, 20],
		[17, 20],
		[30, 20],
		[13, 21],
		[17, 21],
		[30, 21],
		[13, 22],
		[17, 22],
		[30, 22],
		[13, 23],
		[17, 23],
		[30, 23],
		[13, 24],
		[17, 24],
		[30, 24],
		[13, 25],
		[14, 25],
		[17, 25],
		[30, 25],
		[14, 26],
		[17, 26],
		[30, 26],
		[13, 27],
		[14, 27],
		[17, 27],
		[30, 27],
		[14, 28],
		[15, 28],
		[16, 28],
		[17, 28],
		[18, 28],
		[19, 28],
		[20, 28],
		[21, 28],
		[22, 28],
		[23, 28],
		[24, 28],
		[25, 28],
		[26, 28],
		[27, 28],
		[28, 28],
		[29, 28],
		[30, 28],
		[17, 29],
		[17, 30],
		[17, 31],
		[17, 33],
	],
	GateNorth: [[17, 2]],
	Church: [[21, 5]],
	MagicaAcademy: [[25, 6]],
	BlackCat: [[25, 7]],
	Hospital: [[20, 8]],
	ArtGallery: [[25, 9]],
	CentaurBar: [[9, 11]],
	OperaHouse: [[28, 11]],
	BairdTrading: [[6, 13]],
	SliverChimes: [[9, 13]],
	OutskirtsWest: [[0, 17]],
	GateWest: [[2, 17]],
	TownCenter: [[17, 17]],
	GateEast: [[32, 17]],
	OutskirtsEast: [[34, 17]],
	CenterSquare: [[17, 19]],
	BathHouse: [[13, 26]],
	ShopAlley: [[13, 28]],
	Aquarium: [[30, 29]],
	GateSouth: [[17, 32]],
	OutskirtsSouth: [[17, 34]],
};

worldMap.MagicaAcademy.mapdata = compressMapData(GenerateMap(worldMap.MagicaAcademy));

const FMA: any = locationdata.MagicaAcademy;
FMA.SchoolEntrance = new location("SchoolEntrance", ["学院入口"], "MagicaAcademy", "室外")
	.Railcar()
	.Tags("公共场所", "交通", "光亮处", "开阔")
	.Placement("移动摊位");
